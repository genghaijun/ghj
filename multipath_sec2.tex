\section{Background}
\label{background}
\subsection{Failure Protection and Multipath Routing}
Nowadays, network component failures have become routine events rather than exceptions.
Both the industry and the academia have paid attention to improving the network resilience, 
and proposed various schemes from physical level methods such as optical routing protection, 
to IP level approaches such as IP Fast Rerouting (IPFRR)\cite{IPFRR} that 
has been standardized by the IETF. The basic idea of IPFRR is that, 
when a node detects the failure of a link directly connected to itself, 
it can immediate switch to backup paths that are specifically computed for this failure.
Based on this framework, the following two categories of rerouting mechanisms have been proposed. 

The first category works in a local manner. Besides the primary next hop for forwarding 
packets to a given destination, a node computes and stores 
some alternative next hop, and chooses the alternate when the primary one will fail to work.
Since there is no global cooperation, the alternates have to be selected carefully, 
so that no routing loop will be introduced.  
The IETF standard \cite{LFA} defines specific rules for selecting such Loop Free Alternates (LFAs), 
and we will introduce more details about them in the following subsections.
However, naively computing LFAs with these rules require multiple rounds of 
shortest path tree (SPT) computation, and the cost increases proportionally with the 
degree of a node, i.e., one SPT for each neighbor. 
TBFH \cite{TBFH} and DMPA \cite{dmpa} achieve faster computation at the cost of tightening 
the selection rules and less alternates being found. 
FIR \cite{20071710572557} improves the protecting capability of a single link failure 
by computing different alternates for packets from different incoming ports, 
at the cost of an  increased computation overhead, and a restricted scenario, 
i.e., only for protecting a link. 

The second category computes a multi-hop repair path and requires explicit cooperation or 
signaling between routers to ensure packets are indeed routed along this path. 
Multi-topology routing\cite{apostolopoulos2006using, gjessing2006implementation} computes routes 
on different backup network topologies tailored for specific failures, i.e., 
by removing the corresponding links or by increasing their associated weights. 
Routers control which topology they activate by changing additional bits in the packet headers.
FCP \cite {20075110977789} carries link failure information in the IP Packet header 
to allow routers to diagnose problems and select alternate paths. 
%However, this scheme also requires considerable overhead to find the new working path 
%when receiving a packet carrying root-cause failure messages. 
Not-via \cite{not-via}\cite{20102012943182}\cite{Menth20101300} uses special not-via addresses 
in establishing multi-hop protecting paths. 
TOD \cite{Yang2018Fast} proposes tunneling on demand (TOD) to handle one or dual link failures, 
but needs it additional signaling protocol to establish tunnels. 

Besides failure protection, alternate next hops also find applications in multipath 
routing \cite{andersen2002resilient, cho2012independent}, 
where multiple next hops can increase the bandwidth utilization, achieve load balancing, or 
improve routing resilience and reliability, if loop free are guaranteed. 
Equal-Cost Multipath Routing (ECMP) \cite{moy1998rfc} allows packets to be forwarded 
along multiple paths of equal cost but relies on network operators to tune link costs.
Routing deflection \cite{Yang_Source:2006} extends rules of LFAs to allow more next hops
at the cost of greater implementation complexity.
Permutation Routing \cite{20122315088660, vo2013routing} creates permutations of routers
and offer forwarding alternatives for each permutation.
Path splicing\cite{Pathsplicing:2008} creates a set of slices for the network based on random 
link-weight perturbations, and end systems control which slices the routers should use 
by embedding control bits in packet headers.
Loops can also be avoided by computing Directed Acyclic Graphs (DAG) \cite{20094212373257,  20114214442265}, 
but the complexity also increases significantly. 

Due to the simplicity of its mechanism, LFA has been implemented by commercial router 
vendors like Cisco, Juniper and HuaWei, etc., and widely deployed. As it plays an important role 
in real-world networks and also has a great potential in multipath routing, we study how to 
implement it more efficiently, so that when faced with more complex networks, 
it will not become a bottleneck. 
 

\subsection{Network Model and Basic Notations}


\subsection{Loop Free Alternates}

Loop-free Alternate (LFA)\cite{LFA} proposes several basic criteria for selecting a proper next-hop, including Loop-free Criterion (LFC), Node Protection Condition (NPC) and Downstream path Criterion (DC), to guarantee loop-freeness.



\iffalse

those that can operate with an unmodified IP forwarding plane,
and those that involve the use of a different (usually more complex)
forwarding paradigm.
precomputed repair paths

that employs extra bits in the packet
header to reroute for non-disconnecting failures

precompute backup paths mechanisms which reroute packets to precomputed repair paths.
\fi



\iffalse
MARA \cite{20094212373257} constructs a Directed Acyclic Graph (DAG) for each destination,
FIR \cite{20071710572557} employs the local rerouting and pre-computes interface-specific forwarding tables. However, it needs a very complicated pre-computation algorithm to handle link failures.
In\cite{20114214442265}, authors  proposed a centralized computation method to offer an effective alternative routing for guaranteed network connectivity.
\fi

\iffalse
Instantaneous loop-freeness has also been studied, where link-state\cite{schollmeier2003improving,ohara2009mara,lee2004proactive} as well as distance-vector\cite{ vutukury2000mpath, vutukury2001mdva} multipath algorithms achieve  loop-free at every instant.
\fi


%As discussed above, in order to provide failure resilient routing, much more
%overhead is required in both kinds of solutions.
%Our solution focuses on how to achieve failure resilient routing without introducing
%conspicuous overhead.


Since the performance of routing and forwarding is critical to the Internet, routing protection algorithm has to be highly efficient to avoid becoming a bottleneck. However, the existing approaches often focus on finding more, or  disjoint paths, rather than reducing the computation or the communication overhead, which is the focus of this paper.

\iffalse In \cite{dmpa}, we propose a shortest path tree based multipath routing
algorithm called DMPA. DMPA guarantees loop-freeness of
the induced routing path by implicitly maintaining a partial
order of the routers underpinning it The time complexity of
DMPA does not depend on the degree of the calculating router.
However, the protection ration of DMPA is still lower than
the DC. \fi
Unlike the above works, however, our main concerns are computational efficiency and network availability, as these are critical for the routing protection algorithm. Based on the existing work on this research area, we for the first time propose two routing protection algorithms (IAC and IAC-NA) whose complexity is less than that of Dijkstra’s algorithm and also have a high network availability.
\iffalse
Unlike the above works, however, our main concerns
are computational efficiency and protection ratio, as these are
critical for the Algorithm. Based on the existing work on this
research area, we for the first time propose an algorithm whose
complexity is less than that of Dijkstras algorithm and without
degrading the protection ratio.
\fi

%Unlike the above works, however, our main concerns are computational efficiency and network availability, as these are critical for the routing protection algorithm. Based on the existing work on this research area, we for the first time propose a routing protection algorithm whose complexity is less than that of Dijkstra’s algorithm and also has a high network availability.



\iffalse
In this paper, we focus on protection schemes that (1) are computationally efficient,
(2) provide high network protection coverage.

and (3) preserve as much as possible the benefits
that multiple next-hop solutions have, such as no cooperation/signaling and load balancing.
\fi
\begin{table}
\caption{Comparison of Different Routing Protection Algorithms}
\label{britetable1}
\centering
%\large
\normalsize
\begin{tabular}{|c|c|c|c|c|c|c|}% 通过添加 | 来表示是否需要绘制竖线
\hline  % 在表格最上方绘制横线
Algorithm&LFC&NPC&DC\\
\hline
DMPA&$\times$&$-$&$\times$\\
\hline
TBFH&$\times$&$-$&$\times$\\
\hline  %在第一行和第二行之间绘制横线
IAC&$-$ &$-$&$\surd$\\
\hline % 在表格最下方绘制横线
IAC-NA&$\surd$ &$\surd$&$\surd$\\
\hline % 在表格最下方绘制横线
\end{tabular}

\end{table}


A comparison of several existing solutions and ours can be
seen in Table \ref{britetable1}.
In Table \ref{britetable1}, the $\surd$ describes the algorithm that can
compute all the next hop set satisfied the corresponding rule,
the $\times$ means the algorithm can
compute the partial  next hop set satisfied the corresponding rule,
while the $-$ represents the algorithm cannot compute the next hop set of corresponding rule.
As shown in table \ref{britetable1}, only IAC-NA can be applied to three LFA rules and can compute all the next hops  that meet the LFA rule. The other three algorithms do not support NPC rule.
Both of the DMPA and TBFH  can be  used to deal with LFC and DC rule. However  DMPA and TBFH cannot compute all the next hops which satisfied LFC and DC rules.


Evaluation studies \cite{Gjoka2007Evaluation,Menth20101300} show that LFA protects against
many more failures than ECMP. Nevertheless, they also reveal that, on
average, LFA offers protection against only about 90\%
of all possible link failures and less than 75\% of node failures
Despite the limited protection it achieves, LFA is already supported by some equipment vendors \cite{cisco,Juniper}. With that in mind,
Retvari et al. \cite{lfarevisited} suggested that networks should be augmented with additional links to ensure that LFA can provide recovery
for all possible failures.
Therefore, our algorithms can directly use the above research findings, so that they can protect all single network component failure scenarios in the network.

